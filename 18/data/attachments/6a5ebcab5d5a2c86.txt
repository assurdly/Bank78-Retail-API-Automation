
pm.test("Response status code is 200", function () {
  pm.expect(pm.response.code).to.equal(200);
});


pm.test("Validate that 'hasResult' is true", function () {
    const responseData = pm.response.json();

    pm.expect(responseData.hasResult).to.be.true;
});


pm.test("Validate the 'result' object", function () {
  const responseData = pm.response.json();

  pm.expect(responseData).to.be.an('object');
  pm.expect(responseData.result).to.exist.and.to.be.an('object');
});


pm.test("Email is in a valid format", function () {
  const responseData = pm.response.json();
  
  pm.expect(responseData).to.be.an('object');
  pm.expect(responseData.result.email).to.match(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/);
});
